!function(t){var e={};function i(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=2)}([function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var s=function(){function t(e,i,s,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.ctx=i,this.x=a.x,this.y=a.y,this.height=a.height,this.width=a.width,this.bubbleDX=a.bubbleDX,this.bubbleDY=a.bubbleDY,this.gravity=a.gravity,this.gravitySpeed=a.gravitySpeed,this.bounce=a.bounce,this.size=s,this.realCoordinates()}var e,s,a;return e=t,(s=[{key:"draw",value:function(t){var e;switch(t){case 5:e=document.getElementById("planet-five");break;case 4:e=document.getElementById("planet-four");break;case 3:e=document.getElementById("planet-three");break;case 2:e=document.getElementById("planet-two");break;case 1:e=document.getElementById("planet-one")}this.ctx.drawImage(e,this.x,this.y,.7*this.width,.7*this.height),this.ctx.globalCompositeOperation="destination-in",this.ctx.arc(0,0,50,0,2*Math.PI),this.ctx.globalCompositeOperation="source-over"}},{key:"update",value:function(){this.x+=this.bubbleDX,this.y+=this.bubbleDY,(this.x+this.bubbleDX>this.canvas.width-this.width/2-this.height/10||this.x+this.bubbleDX<-this.height/10)&&(this.bubbleDX=-this.bubbleDX),(this.y+this.bubbleDY>=this.canvas.height-this.height/2||this.y+this.bubbleDY<0)&&(this.bubbleDY=-this.bubbleDY),this.realCoordinates()}},{key:"realCoordinates",value:function(){switch(this.size){case 5:this.bubbleX=this.x+40,this.bubbleY=this.y+40;break;case 4:this.bubbleX=this.x+47,this.bubbleY=this.y+47;break;case 3:this.bubbleX=this.x+25,this.bubbleY=this.y+20;break;case 2:this.bubbleX=this.x+15,this.bubbleY=this.y+25;break;case 1:this.bubbleX=this.x+12,this.bubbleY=this.y+25}}}])&&i(e.prototype,s),a&&i(e,a),t}();t.exports=s},function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var s=function(){function t(e,i,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.ctx=i,this.game=s,this.x=this.game.board.player.position.x+75,this.y=this.canvas.height-100,this.speedY=10,this.draw=this.draw.bind(this),this.update=this.update.bind(this)}var e,s,a;return e=t,(s=[{key:"draw",value:function(){var t=new Image;t.src="src/images/laser.png",this.ctx.beginPath(),this.ctx.drawImage(t,this.x,this.y,30,90),this.ctx.closePath()}},{key:"update",value:function(){this.y-=this.speedY}}])&&i(e.prototype,s),a&&i(e,a),t}();t.exports=s},function(t,e,i){Game=i(3),document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("game-canvas"),e=t.getContext("2d"),i=new Game(t,e);gameLoop=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){t,i.update(),i.draw(),requestAnimationFrame(gameLoop)})),requestAnimationFrame(gameLoop)}))},function(t,e,i){function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}Board=i(4),InputHandler=i(6),Laser=i(1),Bubble=i(0),Level=i(8),Gift=i(9);var a=0,n=1,h=2,r=3,o=4,l=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.ctx=i,this.gameState=h,this.handleInput=new InputHandler(this),this.start=this.start.bind(this),this.draw=this.draw.bind(this),this.update=this.update.bind(this),this.collision=this.collision.bind(this),this.togglePause=this.togglePause.bind(this),this.loseLife=this.loseLife.bind(this),this.gameOver=this.gameOver.bind(this),this.shoot=this.shoot.bind(this),this.createBubbles=this.createBubbles.bind(this),this.explodeBubble=this.explodeBubble.bind(this),this.lives=[1,1,1],this.lasers=[],this.levels=new Level(this),this.currentLevel=1,this.level=this.levels.setup[this.currentLevel],this.createBubbles(),this.board=new Board(this.canvas,this.ctx,this),this.score=0,this.gifts=[]}var e,i,l;return e=t,(i=[{key:"start",value:function(){this.gameState===h&&(this.gameState=n),this.gameState===r&&(this.createBubbles(),this.lives=[0,1,2,3,4],this.board=new Board(this.canvas,this.ctx,this),this.gameState=n)}},{key:"draw",value:function(){this.board.drawGame(),this.gameState===h&&(this.ctx.rect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="rgba(0,0,0,0.5)",this.ctx.fill(),this.ctx.font="30px Arial",this.ctx.fillStyle="white",this.ctx.textAlign="center",this.ctx.fillText("Press N to start a new game",this.canvas.width/2,this.canvas.height/2)),this.gameState===a&&(this.ctx.rect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="rgba(0,0,0,0.5)",this.ctx.fill(),this.ctx.font="30px Arial",this.ctx.fillStyle="white",this.ctx.textAlign="center",this.ctx.fillText("Paused",this.canvas.width/2,this.canvas.height/2)),this.gameState===r&&(this.ctx.rect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="rgba(0,0,0,1)",this.ctx.fill(),this.ctx.font="30px Arial",this.ctx.fillStyle="white",this.ctx.textAlign="center",this.ctx.fillText("GAME OVER",this.canvas.width/2,this.canvas.height/2),this.ctx.fillText("Press N to start a new game",this.canvas.width/2,this.canvas.height/2+100)),this.gameState===o&&(this.ctx.rect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="rgba(0,0,0,1)",this.ctx.fill(),this.ctx.font="30px Arial",this.ctx.fillStyle="white",this.ctx.textAlign="center",this.ctx.fillText("LEVEL ".concat(this.currentLevel),this.canvas.width/2,this.canvas.height/2))}},{key:"update",value:function(){var t=this;this.gameState!==a&&this.gameState!==r&&this.gameState!==h&&this.gameState!==o&&(this.collision(),this.gameOver(),this.board.updateGame(),this.gifts.forEach((function(e,i){e.delete&&t.gifts.splice(i,1)})))}},{key:"collision",value:function(){var t=this,e=this.board.player,i=e.position.x+35,s=e.position.y+65,a=i+73;this.gifts.forEach((function(e){e.y+e.height/2>=s&&(e.x>=i&&e.x<=a||e.x+e.width>=i&&e.x+e.width<=a)&&(console.log("collision"),e.delete=!0,e.randomNumber>=980&&t.lives.length<5?t.lives.push(1):e.randomNumber>=850?t.score+=750:e.randomNumber>=650?t.score+=500:e.randomNumber>=450&&(t.score+=100))})),this.bubbles.some((function(e,n){var h=e.width/4.5,r=e.bubbleX+h,o=e.bubbleY+h,l=i-r,b=s-o,c=Math.hypot(l,b),u=a-r,d=s-o,f=Math.hypot(u,d),v=i+67.5-r,g=s-o,y=Math.hypot(v,g);return c<=h||f<=h||y<=h||1===e.size&&r>=i&&r<=a&&o>=s?(t.loseLife(),!0):void t.lasers.forEach((function(i){var s=i.x+13,a=i.y+7,l=s-r,b=a-o,c=a+70-o,u=a+35-o,d=Math.hypot(l,b),f=Math.hypot(l,c),v=Math.hypot(l,u);(d<=h||f<=h||v<=h)&&t.explodeBubble(e,n)}))}))}},{key:"togglePause",value:function(){this.gameState===a?this.gameState=n:this.gameState===n&&(this.gameState=a)}},{key:"loseLife",value:function(){this.lives.pop(),this.restartLevel(),this.createBubbles(),this.board=new Board(this.canvas,this.ctx,this),this.gameState=n}},{key:"restartLevel",value:function(){this.levels=new Level(this),this.level=this.levels.setup[this.currentLevel]}},{key:"gameOver",value:function(){0===this.lives.length&&(this.gameState=r,this.currentLevel=1,this.score=0,this.restartLevel())}},{key:"shoot",value:function(){if(this.gameState===n){var t=new Laser(this.canvas,this.ctx,this);this.lasers.push(t)}}},{key:"createBubbles",value:function(){var t=this;this.bubbles=this.level.map((function(e){return 5===e.size?new Bubble(t.canvas,t.ctx,5,{x:e.x,y:e.y,height:300,width:300,bubbleDX:e.bubbleDX,bubbleDY:e.bubbleDY,gravity:.1,gravitySpeed:0,bounce:1.005}):4===e.size?new Bubble(t.canvas,t.ctx,4,{x:e.x,y:e.y,height:250,width:250,bubbleDX:e.bubbleDX,bubbleDY:e.bubbleDY,gravity:.1,gravitySpeed:0,bounce:1.005}):3===e.size?new Bubble(t.canvas,t.ctx,3,{x:e.x,y:e.y,height:200,width:200,bubbleDX:e.bubbleDX,bubbleDY:e.bubbleDY,gravity:.1,gravitySpeed:0,bounce:1.005}):2===e.size?new Bubble(t.canvas,t.ctx,2,{x:e.x,y:e.y,height:150,width:150,bubbleDX:e.bubbleDX,bubbleDY:e.bubbleDY,gravity:.1,gravitySpeed:0,bounce:1.005}):1===e.size?new Bubble(t.canvas,t.ctx,1,{x:e.x,y:e.y,height:75,width:75,bubbleDX:e.bubbleDX,bubbleDY:e.bubbleDY,gravity:.1,gravitySpeed:0,bounce:1.005}):void 0}))}},{key:"explodeBubble",value:function(t,e){var i=this;this.score+=250,this.lasers=[],this.level.forEach((function(t,e){i.bubbles.forEach((function(i,s){e===s&&(t.x=i.x,t.y=i.y,t.bubbleDX=i.bubbleDX,t.bubbleDY=i.bubbleDY)}))})),this.level.splice(e,1),1!==t.size&&(this.level.push({size:t.size-1,x:t.x,y:t.y,bubbleDX:t.bubbleDX,bubbleDY:t.bubbleDY}),this.level.push({size:t.size-1,x:t.x,y:t.y,bubbleDX:-t.bubbleDX,bubbleDY:-t.bubbleDY})),0===this.level.length&&this.levelCleared(),this.dropGift(t.x,t.y),this.createBubbles()}},{key:"levelCleared",value:function(){var t=this;this.currentLevel+=1,this.restartLevel(),this.gameState=o,setTimeout((function(){t.gameState=n}),1e3)}},{key:"dropGift",value:function(t,e){this.gifts.push(new Gift(t,e,this))}}])&&s(e.prototype,i),l&&s(e,l),t}();t.exports=l},function(t,e,i){function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}Bubble=i(0),Player=i(5),Laser=i(1);var a=function(){function t(e,i,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.ctx=i,this.game=s,this.drawGame=this.drawGame.bind(this),this.drawBackground=this.drawBackground.bind(this),this.player=new Player(e,i)}var e,i,a;return e=t,(i=[{key:"drawBackground",value:function(){var t=new Image;t.src="src/images/background_level_one.jpg",this.ctx.drawImage(t,0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath()}},{key:"drawGame",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawBackground(),this.game.bubbles.forEach((function(t){return t.draw(t.size)})),this.player.draw(),this.drawLives(),this.game.lasers.forEach((function(t){return t.draw()})),this.drawText(),this.game.gifts.forEach((function(t){t.delete||t.draw()}))}},{key:"updateGame",value:function(){this.player.update(),this.game.bubbles.forEach((function(t){return t.update()})),this.game.lasers.forEach((function(t){return t.update()})),this.game.gifts.forEach((function(t){t.delete||t.update()}))}},{key:"drawLives",value:function(){var t=this,e=new Image;e.src="src/images/heart.png",this.game.lives.forEach((function(i,s){t.ctx.drawImage(e,620+40*s,0,100,100)}))}},{key:"drawText",value:function(){this.ctx.font="30px Arial",this.ctx.textAlign="start",this.ctx.fillText("High Score: ".concat(this.game.score),40,50),this.ctx.font="20px Arial",this.ctx.textAlign="center",this.ctx.fillText("Level ".concat(this.game.currentLevel),this.canvas.width/2,30)}},{key:"drawGifts",value:function(){}}])&&s(e.prototype,i),a&&s(e,a),t}();t.exports=a},function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var s=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.ctx=i,this.width=135,this.height=135,this.maxSpeed=10,this.speed=0,this.position={x:this.canvas.width/2-this.width/2,y:this.canvas.height-this.height+30}}var e,s,a;return e=t,(s=[{key:"moveLeft",value:function(){this.speed=-this.maxSpeed}},{key:"moveRight",value:function(){this.speed=this.maxSpeed}},{key:"draw",value:function(){var t=new Image;t.src="src/images/player.png",this.ctx.beginPath(),this.ctx.drawImage(t,this.position.x,this.position.y,this.width,this.height),this.ctx.closePath()}},{key:"update",value:function(){this.position.x+=this.speed,this.position.x<-30&&(this.position.x=-30),this.position.x+this.width>this.canvas.width+30&&(this.position.x=this.canvas.width-this.width+30)}},{key:"stop",value:function(){this.speed=0}}])&&i(e.prototype,s),a&&i(e,a),t}();t.exports=s},function(t,e,i){Sound=i(7);t.exports=function t(e){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.locked=!1,this.sound=new Sound("/Users/razefron/Desktop/bubble_trouble/src/sounds/shooting.mp3"),document.addEventListener("keydown",(function(t){switch(t.key){case"ArrowRight":e.board.player.moveRight();break;case"ArrowLeft":e.board.player.moveLeft();break;case"p":e.togglePause();break;case"n":e.start();break;case" ":if(i.sound.play(),i.locked)return;e.shoot(),i.locked=!0,setTimeout((function(){i.locked=!1}),250)}})),document.addEventListener("keyup",(function(t){switch(t.key){case"ArrowRight":e.board.player.speed>0&&e.board.player.stop();break;case"ArrowLeft":e.board.player.speed<0&&e.board.player.stop()}}))}},function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sound=document.createElement("audio"),this.sound.src=e,this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),this.sound.style.display="none",document.body.appendChild(this.sound)}var e,s,a;return e=t,(s=[{key:"play",value:function(){this.sound.play()}},{key:"stop",value:function(){this.sound.pause()}}])&&i(e.prototype,s),a&&i(e,a),t}();t.exports=s},function(t,e){t.exports=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setup={1:[{size:2,x:e.canvas.width/2,y:40,bubbleDX:5,bubbleDY:5}],2:[{size:3,x:e.canvas.width/2,y:40,bubbleDX:5,bubbleDY:5}],3:[{size:4,x:e.canvas.width/2,y:40,bubbleDX:5,bubbleDY:5}],4:[{size:5,x:e.canvas.width/2,y:40,bubbleDX:5,bubbleDY:5}],5:[{size:5,x:e.canvas.width/2,y:40,bubbleDX:5,bubbleDY:5},{size:3,x:e.canvas.width/2-200,y:40,bubbleDX:5,bubbleDY:-5}],6:[{size:4,x:e.canvas.width/2,y:40,bubbleDX:5,bubbleDY:5},{size:5,x:e.canvas.width/2-200,y:40,bubbleDX:5,bubbleDY:-5}],7:[{size:4,x:e.canvas.width/2,y:40,bubbleDX:5,bubbleDY:5},{size:4,x:e.canvas.width/2-200,y:40,bubbleDX:5,bubbleDY:-5},{size:4,x:e.canvas.width/2-200,y:40,bubbleDX:5,bubbleDY:-5}],8:[{size:5,x:e.canvas.width/2,y:40,bubbleDX:5,bubbleDY:5},{size:4,x:e.canvas.width/2-200,y:40,bubbleDX:5,bubbleDY:-5},{size:4,x:e.canvas.width/2-400,y:40,bubbleDX:5,bubbleDY:-5}],9:[{size:4,x:e.canvas.width/2,y:40,bubbleDX:5,bubbleDY:5},{size:4,x:e.canvas.width/2-100,y:40,bubbleDX:5,bubbleDY:-5},{size:4,x:e.canvas.width/2-200,y:40,bubbleDX:5,bubbleDY:-5},{size:4,x:e.canvas.width/2-300,y:40,bubbleDX:5,bubbleDY:-5}]}}},function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var s=function(){function t(e,i,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=i,this.dY=5,this.randomNumber=Math.floor(1e3*Math.random()),this.game=s,this.delete=!1,this.height=0,this.width=0}var e,s,a;return e=t,(s=[{key:"draw",value:function(){if(this.randomNumber>=980){var t=new Image;t.src="src/images/heart.png",this.height=110,this.width=100,this.game.ctx.drawImage(t,this.x,this.y,100,100)}else if(this.randomNumber>=850){var e=new Image;e.src="src/images/coin_bag.png",this.height=109,this.width=60,this.game.ctx.drawImage(e,this.x,this.y,60,60)}else if(this.randomNumber>=650){var i=new Image;i.src="src/images/coin_stack.png",this.height=50,this.width=30,this.game.ctx.drawImage(i,this.x,this.y,30,30)}else if(this.randomNumber>=200){var s=new Image;s.src="src/images/gold_coin.png",this.height=60,this.width=35,this.game.ctx.drawImage(s,this.x,this.y,35,35)}}},{key:"update",value:function(){var t=this;this.y+=this.dY,this.y+this.dY>=this.game.canvas.height-this.height/2&&(this.dY=0,setTimeout((function(){t.delete=!0}),500))}}])&&i(e.prototype,s),a&&i(e,a),t}();t.exports=s}]);
//# sourceMappingURL=main.js.map